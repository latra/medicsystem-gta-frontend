(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[125],{739:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var a=s(5155),r=s(2115),l=s(5731),i=s(1458),n=s(1157);let c=r.forwardRef(function({title:e,titleId:t,...s},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}),d=r.forwardRef(function({title:e,titleId:t,...s},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))});function o(){let[e,t]=(0,r.useState)([]),[s,o]=(0,r.useState)(!0),[x,m]=(0,r.useState)(null),[h,p]=(0,r.useState)(null),[u,g]=(0,r.useState)(!1),j=async()=>{try{o(!0),m(null);let e=await (0,l.BF)();t(e)}catch(e){console.error("Error fetching admitted patients:",e),m("Error al cargar los pacientes en admisi\xf3n")}finally{o(!1)}};(0,r.useEffect)(()=>{j()},[]);let f=e=>{p(e),g(!0)};return s?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.default,{}),(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-screen",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-hospital-blue"}),(0,a.jsx)("p",{className:"mt-4 text-gray-600",children:"Cargando admisiones..."})]})]}):x?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.default,{}),(0,a.jsx)("div",{className:"flex flex-col items-center justify-center h-screen",children:(0,a.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-md p-6 max-w-md",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(c,{className:"h-5 w-5 text-red-400 mr-2"}),(0,a.jsx)("p",{className:"text-red-800",children:x})]}),(0,a.jsx)("button",{onClick:j,className:"mt-4 bg-hospital-blue hover:bg-hospital-blue/80 text-white font-medium py-2 px-4 rounded-md",children:"Reintentar"})]})})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.default,{}),(0,a.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Admisiones"}),(0,a.jsxs)("p",{className:"mt-2 text-gray-600",children:["Pacientes actualmente en admisi\xf3n (",e.length,")"]})]}),(0,a.jsx)("div",{className:"bg-white shadow-sm rounded-lg overflow-hidden",children:0===e.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"text-gray-400 mb-4",children:(0,a.jsx)("svg",{className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay admisiones activas"}),(0,a.jsx)("p",{className:"text-gray-500",children:"No hay pacientes actualmente en admisi\xf3n."})]}):(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Triaje"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Paciente"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"M\xe9dico Asignado"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo de Atenci\xf3n"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Motivo"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>f(e.visit_id),children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(e=>{let t={unknown:{label:"Sin clasificar",color:"bg-gray-100 text-gray-800"},green:{label:"Verde",color:"bg-green-100 text-green-800"},yellow:{label:"Amarillo",color:"bg-yellow-100 text-yellow-800"},red:{label:"Rojo",color:"bg-red-100 text-red-800"},black:{label:"Negro",color:"bg-black text-white"}},s=t[e]||t.unknown;return(0,a.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${s.color}`,children:s.label})})(e.triage)}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:["DNI: ",e.dni]})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"text-sm text-gray-900",children:[e.doctor_name," | ",e.doctor_dni]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:(e=>{switch(e){case"street":return"Calle";case"hospital":return"Hospital";case"traslad":return"Traslado";default:return e}})(e.attention_type)})}),(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsx)("div",{className:"text-sm text-gray-900 max-w-xs truncate",title:e.reason,children:e.reason})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,a.jsxs)("button",{onClick:t=>{t.stopPropagation(),f(e.visit_id)},className:"text-hospital-blue hover:text-hospital-blue/80 flex items-center gap-1",children:[(0,a.jsx)(d,{className:"h-4 w-4"}),"Ver detalles"]})})]},e.visit_id))})]})})})]})}),(0,a.jsx)(n.A,{visitId:h,isOpen:u,onClose:()=>{g(!1),p(null)},onVisitUpdate:e=>{j()}})]})}},3301:(e,t,s)=>{Promise.resolve().then(s.bind(s,739))}},e=>{e.O(0,[965,545,404,665,458,157,441,964,358],()=>e(e.s=3301)),_N_E=e.O()}]);